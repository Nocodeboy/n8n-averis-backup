{
  "createdAt": "2025-05-01T07:39:18.993Z",
  "updatedAt": "2025-05-01T07:47:37.668Z",
  "id": "GcfKQPkeDxxQ9HFi",
  "name": "T - Creaci√≥n de videos faceless con captions",
  "active": false,
  "nodes": [
    {
      "parameters": {
        "updates": [
          "message"
        ],
        "additionalFields": {}
      },
      "type": "n8n-nodes-base.telegramTrigger",
      "typeVersion": 1.1,
      "position": [
        -420,
        860
      ],
      "id": "a7925361-b631-42df-8847-793fc9a35b9e",
      "name": "Telegram Trigger",
      "webhookId": "3cce5210-6e2c-431b-b62c-6faa1722bf39"
    },
    {
      "parameters": {
        "documentId": {
          "__rl": true,
          "value": "1DUDd8BPzxj7lLUxcAjWev-h9jui1DgZr-__Vc-0ZZ78",
          "mode": "list",
          "cachedResultName": " Building - Social Media Video AI Agent - FabiMarkl.com",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1DUDd8BPzxj7lLUxcAjWev-h9jui1DgZr-__Vc-0ZZ78/edit?usp=drivesdk"
        },
        "sheetName": {
          "__rl": true,
          "value": 1915567193,
          "mode": "list",
          "cachedResultName": "Templates",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1DUDd8BPzxj7lLUxcAjWev-h9jui1DgZr-__Vc-0ZZ78/edit#gid=1915567193"
        },
        "options": {
          "dataLocationOnSheet": {
            "values": {
              "rangeDefinition": "detectAutomatically",
              "readRowsUntil": "firstEmptyRow"
            }
          }
        }
      },
      "type": "n8n-nodes-base.googleSheetsTool",
      "typeVersion": 4.5,
      "position": [
        840,
        440
      ],
      "id": "ff17f41f-c58d-4b36-b328-8aefebbe0904",
      "name": "Google Sheets - Read Templates"
    },
    {
      "parameters": {
        "documentId": {
          "__rl": true,
          "value": "1DUDd8BPzxj7lLUxcAjWev-h9jui1DgZr-__Vc-0ZZ78",
          "mode": "list",
          "cachedResultName": " Building - Social Media Video AI Agent - FabiMarkl.com",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1DUDd8BPzxj7lLUxcAjWev-h9jui1DgZr-__Vc-0ZZ78/edit?usp=drivesdk"
        },
        "sheetName": {
          "__rl": true,
          "value": 740956331,
          "mode": "list",
          "cachedResultName": "Generated Post",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1DUDd8BPzxj7lLUxcAjWev-h9jui1DgZr-__Vc-0ZZ78/edit#gid=740956331"
        },
        "options": {
          "returnFirstMatch": true
        }
      },
      "type": "n8n-nodes-base.googleSheetsTool",
      "typeVersion": 4.5,
      "position": [
        1140,
        420
      ],
      "id": "9a78b6c1-be6d-44ce-909f-0fcf3386dc9f",
      "name": "Google Sheets - Read Post Texts"
    },
    {
      "parameters": {
        "operation": "appendOrUpdate",
        "documentId": {
          "__rl": true,
          "value": "1DUDd8BPzxj7lLUxcAjWev-h9jui1DgZr-__Vc-0ZZ78",
          "mode": "list",
          "cachedResultName": " Building - Social Media Video AI Agent - FabiMarkl.com",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1DUDd8BPzxj7lLUxcAjWev-h9jui1DgZr-__Vc-0ZZ78/edit?usp=drivesdk"
        },
        "sheetName": {
          "__rl": true,
          "value": 740956331,
          "mode": "list",
          "cachedResultName": "Generated Post",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1DUDd8BPzxj7lLUxcAjWev-h9jui1DgZr-__Vc-0ZZ78/edit#gid=740956331"
        },
        "columns": {
          "mappingMode": "defineBelow",
          "value": {
            "Video ID": "={{ $fromAI(\"video_Id\",\"this is the ID of the video\") }}",
            "Caption Text": "={{ $fromAI(\"caption_text\",\"this is the text of the caption\") }}",
            "Title Text 1": "={{ $fromAI(\"title_text1\",\"this is the text of the title text 1 segment\") }}",
            "Titel Text 2": "={{ $fromAI(\"title_text2\",\"this is the text of the title text 2 segment\") }}",
            "Topic": "={{ $fromAI(\"topic\",\"this is the topic for the video post\") }}"
          },
          "matchingColumns": [
            "Video ID"
          ],
          "schema": [
            {
              "id": "Video ID",
              "displayName": "Video ID",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "Topic",
              "displayName": "Topic",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "Caption Text",
              "displayName": "Caption Text",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "Title Text 1",
              "displayName": "Title Text 1",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "Titel Text 2",
              "displayName": "Titel Text 2",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "Video URL",
              "displayName": "Video URL",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Publish Date",
              "displayName": "Publish Date",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Status",
              "displayName": "Status",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            }
          ],
          "attemptToConvertTypes": false,
          "convertFieldsToString": false
        },
        "options": {}
      },
      "type": "n8n-nodes-base.googleSheetsTool",
      "typeVersion": 4.5,
      "position": [
        1000,
        440
      ],
      "id": "e658cd04-370c-4ff8-bb92-54c8f5184cef",
      "name": "Google Sheets - Update Post Texts"
    },
    {
      "parameters": {
        "rules": {
          "values": [
            {
              "conditions": {
                "options": {
                  "caseSensitive": false,
                  "leftValue": "",
                  "typeValidation": "strict",
                  "version": 2
                },
                "conditions": [
                  {
                    "leftValue": "={{ $('Telegram Trigger').item.json.message.text }}",
                    "rightValue": "start",
                    "operator": {
                      "type": "string",
                      "operation": "equals"
                    },
                    "id": "e031c5f5-7ecf-47a3-a76c-67673a617bb4"
                  }
                ],
                "combinator": "and"
              },
              "renameOutput": true,
              "outputKey": "Start"
            },
            {
              "conditions": {
                "options": {
                  "caseSensitive": false,
                  "leftValue": "",
                  "typeValidation": "strict",
                  "version": 2
                },
                "conditions": [
                  {
                    "id": "e6e75954-b1a9-4263-b7f8-852b7ed04bc9",
                    "leftValue": "={{ $json.message.text }}",
                    "rightValue": "/start",
                    "operator": {
                      "type": "string",
                      "operation": "equals",
                      "name": "filter.operator.equals"
                    }
                  }
                ],
                "combinator": "and"
              },
              "renameOutput": true,
              "outputKey": "/start"
            },
            {
              "conditions": {
                "options": {
                  "caseSensitive": false,
                  "leftValue": "",
                  "typeValidation": "strict",
                  "version": 2
                },
                "conditions": [
                  {
                    "id": "eccadb5d-e826-496c-baa4-dd4a831c1686",
                    "leftValue": "={{ $('Telegram Trigger').item.json.message.text }}",
                    "rightValue": "start",
                    "operator": {
                      "type": "string",
                      "operation": "notEquals"
                    }
                  }
                ],
                "combinator": "and"
              },
              "renameOutput": true,
              "outputKey": "Else"
            }
          ]
        },
        "options": {
          "ignoreCase": true
        }
      },
      "type": "n8n-nodes-base.switch",
      "typeVersion": 3.2,
      "position": [
        300,
        180
      ],
      "id": "09bcedc5-ff53-4c2a-a676-1909072432af",
      "name": "Switch"
    },
    {
      "parameters": {
        "jsCode": "function generateRandomCode(length = 20) {\n  const chars = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789';\n  let result = '';\n  for (let i = 0; i < length; i++) {\n    result += chars[Math.floor(Math.random() * chars.length)];\n  }\n  return result;\n}\n\nreturn [\n  {\n    json: {\n      code: generateRandomCode()\n    }\n  }\n];\n"
      },
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        660,
        40
      ],
      "id": "7b13eaac-4311-44f8-8420-30def27d0796",
      "name": "VideoID"
    },
    {
      "parameters": {
        "operation": "append",
        "documentId": {
          "__rl": true,
          "value": "1DUDd8BPzxj7lLUxcAjWev-h9jui1DgZr-__Vc-0ZZ78",
          "mode": "list",
          "cachedResultName": " Building - Social Media Video AI Agent - FabiMarkl.com",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1DUDd8BPzxj7lLUxcAjWev-h9jui1DgZr-__Vc-0ZZ78/edit?usp=drivesdk"
        },
        "sheetName": {
          "__rl": true,
          "value": 740956331,
          "mode": "list",
          "cachedResultName": "Generated Post",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1DUDd8BPzxj7lLUxcAjWev-h9jui1DgZr-__Vc-0ZZ78/edit#gid=740956331"
        },
        "columns": {
          "mappingMode": "defineBelow",
          "value": {
            "Video ID": "={{ $json.code }}"
          },
          "matchingColumns": [],
          "schema": [
            {
              "id": "Video ID",
              "displayName": "Video ID",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "Topic",
              "displayName": "Topic",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Caption Text",
              "displayName": "Caption Text",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Title Text 1",
              "displayName": "Title Text 1",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Titel Text 2",
              "displayName": "Titel Text 2",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Video URL",
              "displayName": "Video URL",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Publish Date",
              "displayName": "Publish Date",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Status",
              "displayName": "Status",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            }
          ],
          "attemptToConvertTypes": false,
          "convertFieldsToString": false
        },
        "options": {}
      },
      "type": "n8n-nodes-base.googleSheets",
      "typeVersion": 4.5,
      "position": [
        780,
        40
      ],
      "id": "4ce05e42-7b04-438d-85ab-016593bdd101",
      "name": "Google Sheets"
    },
    {
      "parameters": {
        "chatId": "={{ $('Telegram Trigger').item.json.message.chat.id }}",
        "text": "={{ $json.output }}",
        "additionalFields": {}
      },
      "type": "n8n-nodes-base.telegram",
      "typeVersion": 1.2,
      "position": [
        1200,
        200
      ],
      "id": "b6e6dde7-2a59-448f-8f93-e0bf6f1d4344",
      "name": "Telegram",
      "webhookId": "65c8d708-c4ea-4fa2-91da-52ccffb838bc"
    },
    {
      "parameters": {
        "sessionIdType": "customKey",
        "sessionKey": "={{ $('ChatID').item.json.chatID }}",
        "contextWindowLength": 20
      },
      "type": "@n8n/n8n-nodes-langchain.memoryBufferWindow",
      "typeVersion": 1.3,
      "position": [
        720,
        420
      ],
      "id": "d18daac6-ff23-4f05-b943-48a27dfca0bf",
      "name": "Window Buffer Memory"
    },
    {
      "parameters": {
        "model": "claude-3-5-sonnet-20241022",
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.lmChatAnthropic",
      "typeVersion": 1.2,
      "position": [
        600,
        380
      ],
      "id": "aebbb979-054f-442e-b589-aa60b2b7c4d3",
      "name": "Anthropic Chat Model"
    },
    {
      "parameters": {
        "assignments": {
          "assignments": [
            {
              "id": "a93fc3c6-b642-4d32-8af3-9e2725707160",
              "name": "chatID",
              "value": "={{ $('Telegram Trigger').item.json.message.chat.id }}",
              "type": "string"
            }
          ]
        },
        "options": {}
      },
      "type": "n8n-nodes-base.set",
      "typeVersion": 3.4,
      "position": [
        800,
        200
      ],
      "id": "0e9064cf-4e62-4ef4-ac44-c23ca519b876",
      "name": "ChatID"
    },
    {
      "parameters": {
        "chatId": "={{ $('Telegram Trigger').item.json.message.chat.id }}",
        "text": "=This is your video ID: {{ $json['Video ID'] }}\n\nJust type \"yes\" to continue.",
        "additionalFields": {}
      },
      "type": "n8n-nodes-base.telegram",
      "typeVersion": 1.2,
      "position": [
        900,
        40
      ],
      "id": "668284cd-f141-4457-b21e-5058988db0f0",
      "name": "Telegram1",
      "webhookId": "abc2f9ab-fac7-4998-adcb-cb83b808fc69"
    },
    {
      "parameters": {
        "assignments": {
          "assignments": [
            {
              "id": "6d10967a-6f57-4477-95dd-bdd2b8688f60",
              "name": "text",
              "value": "={{ $json.message.text }}",
              "type": "string"
            }
          ]
        },
        "options": {}
      },
      "type": "n8n-nodes-base.set",
      "typeVersion": 3.4,
      "position": [
        680,
        200
      ],
      "id": "a7ddf809-77ab-477f-9902-95c8a700a83e",
      "name": "Input"
    },
    {
      "parameters": {
        "operation": "appendOrUpdate",
        "documentId": {
          "__rl": true,
          "value": "1DUDd8BPzxj7lLUxcAjWev-h9jui1DgZr-__Vc-0ZZ78",
          "mode": "list",
          "cachedResultName": " Building - Social Media Video AI Agent - FabiMarkl.com",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1DUDd8BPzxj7lLUxcAjWev-h9jui1DgZr-__Vc-0ZZ78/edit?usp=drivesdk"
        },
        "sheetName": {
          "__rl": true,
          "value": 740956331,
          "mode": "list",
          "cachedResultName": "Generated Post",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1DUDd8BPzxj7lLUxcAjWev-h9jui1DgZr-__Vc-0ZZ78/edit#gid=740956331"
        },
        "columns": {
          "mappingMode": "defineBelow",
          "value": {
            "Video URL": "={{ $('Video URL1').item.json.movie.url }}",
            "Video ID": "={{ $('Split').item.json.videoID }}"
          },
          "matchingColumns": [
            "Video ID"
          ],
          "schema": [
            {
              "id": "Video ID",
              "displayName": "Video ID",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "Topic",
              "displayName": "Topic",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Caption Text",
              "displayName": "Caption Text",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Title Text 1",
              "displayName": "Title Text 1",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Titel Text 2",
              "displayName": "Titel Text 2",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Video URL",
              "displayName": "Video URL",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "Publish Date",
              "displayName": "Publish Date",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Status",
              "displayName": "Status",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            }
          ],
          "attemptToConvertTypes": false,
          "convertFieldsToString": false
        },
        "options": {}
      },
      "type": "n8n-nodes-base.googleSheets",
      "typeVersion": 4.5,
      "position": [
        1100,
        980
      ],
      "id": "4e717285-805e-4a80-9129-824dd7cd68ea",
      "name": "Google Sheets1"
    },
    {
      "parameters": {
        "method": "POST",
        "url": "=https://api.cloudinary.com/v1_1/INSERT_CLOUDINARY_ID/image/upload",
        "authentication": "genericCredentialType",
        "genericAuthType": "httpBasicAuth",
        "sendBody": true,
        "contentType": "multipart-form-data",
        "bodyParameters": {
          "parameters": [
            {
              "parameterType": "formBinaryData",
              "name": "file",
              "inputDataFieldName": "data"
            },
            {
              "name": "upload_preset",
              "value": "INSERT_UPLOAD_PRESET"
            }
          ]
        },
        "options": {}
      },
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 4.2,
      "position": [
        420,
        760
      ],
      "id": "3b78f74c-733d-4fa6-a4e8-1fe9847e0b11",
      "name": "Upload Image"
    },
    {
      "parameters": {
        "authentication": "headerAuth",
        "requestMethod": "POST",
        "url": "https://api.piapi.ai/api/v1/task",
        "jsonParameters": true,
        "options": {},
        "bodyParametersJson": "={\n  \"model\": \"kling\",\n  \"task_type\": \"video_generation\",\n  \"input\": {\n    \"prompt\": \"{{ $('Split').item.json.videoPrompt }}\",\n    \"image_url\": \"{{ $json.secure_url }}\",\n    \"negative_prompt\": \"\",\n    \"cfg_scale\": 0.5,\n    \"duration\": 5,\n\"aspect_ratio\": \"9:16\",\n  \"version\": \"1.6\", \n    \"camera_control\": {\n      \"type\": \"simple\",\n      \"config\": {\n        \"horizontal\": 0,\n        \"vertical\": 0,\n        \"pan\": 0,\n        \"tilt\": 0,\n        \"roll\": 0,\n        \"zoom\": 0\n      }\n    },\n    \"mode\": \"std\"\n  },\n  \"config\": {\n    \"service_mode\": \"\",\n    \"webhook_config\": {\n      \"endpoint\": \"\",\n      \"secret\": \"\"\n    }\n  }\n}\n"
      },
      "id": "a6d0f17d-06e7-4671-bb15-71e98713bdd8",
      "name": "Generate Video",
      "type": "n8n-nodes-base.httpRequest",
      "position": [
        940,
        760
      ],
      "typeVersion": 1
    },
    {
      "parameters": {
        "amount": 2.5,
        "unit": "minutes"
      },
      "id": "8597a400-7427-4621-a0e5-4c892fcf8414",
      "name": "Wait For Video",
      "type": "n8n-nodes-base.wait",
      "position": [
        1100,
        760
      ],
      "typeVersion": 1,
      "webhookId": "a741b835-4ff1-4851-af17-a8fe91b3abcd"
    },
    {
      "parameters": {
        "authentication": "headerAuth",
        "url": "=https://api.piapi.ai/api/v1/task/{{ $json.data.task_id }}",
        "options": {}
      },
      "id": "60d71452-6b97-45a7-8681-98024f23c67f",
      "name": "Get Video URL",
      "type": "n8n-nodes-base.httpRequest",
      "position": [
        1240,
        760
      ],
      "typeVersion": 1
    },
    {
      "parameters": {
        "method": "POST",
        "url": "https://api.json2video.com/v2/movies",
        "authentication": "genericCredentialType",
        "genericAuthType": "httpCustomAuth",
        "sendBody": true,
        "specifyBody": "json",
        "jsonBody": "={\n  \"id\": \"qbaasr7s\",\n  \"resolution\": \"instagram-story\",\n  \"quality\": \"high\",\n  \"scenes\": [\n    {\n      \"id\": \"qyjh9lwj\",\n      \"comment\": \"Scene 1\",\n      \"elements\": []\n    }\n  ],\n  \"elements\": [\n    {\n      \"id\": \"q6dznzcv\",\n      \"type\": \"video\",\n      \"src\": \"{{ $('Get Video URL').item.json.data.output.video_url }}\",\n      \"resize\": \"cover\",\n      \"correction\": {\n        \"brightness\": -0.1\n      }\n    },\n    {\n      \"id\": \"top-text\",\n      \"type\": \"text\",\n      \"text\": \"{{ $('Google Sheets2').item.json['Title Text 1'] }}\",\n      \"settings\": {\n        \"font-family\": \"Playfair Display\",\n        \"font-size\": \"70px\",\n        \"color\": \"#ffffff\",\n        \"horizontal-position\": \"center\",\n        \"vertical-position\": \"top\",\n        \"margin-top\": \"300px\",\n        \"word-break\": \"break-word\",\n        \"overflow-wrap\": \"break-word\",\n        \"font-weight\": \"bold\",\n        \"text-shadow\": \"1px 1px 0 #000, -1px -1px 0 #000, 1px -1px 0 #000, -1px 1px 0 #000, 2px 2px 0 #000, -2px -2px 0 #000, 2px -2px 0 #000, -2px 2px 0 #000, 3px 3px 0 #000, -3px -3px 0 #000, 3px -3px 0 #000, -3px 3px 0 #000, 4px 4px 0 #000, -4px -4px 0 #000, 4px -4px 0 #000, -4px 4px 0 #000, 5px 5px 0 #000, -5px -5px 0 #000, 5px -5px 0 #000, -5px 5px 0 #000\"\n      }\n    },\n    {\n      \"id\": \"bottom-text\",\n      \"type\": \"text\",\n      \"text\": \"{{ $('Google Sheets2').item.json['Titel Text 2'] }}\",\n      \"settings\": {\n        \"font-family\": \"Playfair Display\",\n        \"font-size\": \"70px\",\n        \"color\": \"#b7fe65\",\n        \"horizontal-position\": \"center\",\n        \"vertical-position\": \"bottom\",\n        \"margin-bottom\": \"600px\",\n        \"word-break\": \"break-word\",\n        \"overflow-wrap\": \"break-word\",\n        \"font-weight\": \"bold\",\n        \"text-shadow\": \"1px 1px 0 #000, -1px -1px 0 #000, 1px -1px 0 #000, -1px 1px 0 #000, 2px 2px 0 #000, -2px -2px 0 #000, 2px -2px 0 #000, -2px 2px 0 #000, 3px 3px 0 #000, -3px -3px 0 #000, 3px -3px 0 #000, -3px 3px 0 #000, 4px 4px 0 #000, -4px -4px 0 #000, 4px -4px 0 #000, -4px 4px 0 #000, 5px 5px 0 #000, -5px -5px 0 #000, 5px -5px 0 #000, -5px 5px 0 #000\"\n      }\n    },\n    {\n      \"id\": \"music-track\",\n      \"type\": \"audio\",\n      \"src\": \"{{ $('Get Music URL').item.json.data.output.audio_url }}\",\n      \"volume\": 0.5,\n      \"duration\": -2\n    }\n  ]\n}",
        "options": {}
      },
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 4.2,
      "position": [
        680,
        980
      ],
      "id": "64b1a27c-00a6-40e0-a1be-da0ece9bab1a",
      "name": "Add Captions"
    },
    {
      "parameters": {
        "amount": 30
      },
      "type": "n8n-nodes-base.wait",
      "typeVersion": 1.1,
      "position": [
        820,
        980
      ],
      "id": "d792f2ff-277f-4c15-b6aa-1141e0f6f2ae",
      "name": "Wait4",
      "webhookId": "9b933716-6c80-4f8d-b78c-c784d6e1546f"
    },
    {
      "parameters": {
        "url": "=https://api.json2video.com/v2/movies?id={{ $json.project }}",
        "authentication": "genericCredentialType",
        "genericAuthType": "httpCustomAuth",
        "options": {}
      },
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 4.2,
      "position": [
        960,
        980
      ],
      "id": "1fda47fe-e727-4735-a7c1-45dd81cca791",
      "name": "Video URL1"
    },
    {
      "parameters": {
        "authentication": "headerAuth",
        "requestMethod": "POST",
        "url": "https://api.piapi.ai/api/v1/task",
        "jsonParameters": true,
        "options": {},
        "bodyParametersJson": "={\n  \"model\": \"Qubico/diffrhythm\",\n  \"task_type\": \"txt2audio-base\",\n  \"input\": {\n    \"style_prompt\": \"{{ $('Split').item.json.musicPrompt }}\"\n  },\n  \"config\": {}\n}"
      },
      "id": "0e2f5db8-e97e-4cf6-b4bb-3ad142f5c0a4",
      "name": "Generate Music",
      "type": "n8n-nodes-base.httpRequest",
      "position": [
        260,
        980
      ],
      "typeVersion": 1
    },
    {
      "parameters": {
        "unit": "minutes"
      },
      "id": "b28f0fff-f2a4-4944-8dde-20c7524c9eea",
      "name": "Wait For Music",
      "type": "n8n-nodes-base.wait",
      "position": [
        400,
        980
      ],
      "typeVersion": 1,
      "webhookId": "0407c5df-02ec-4f1f-9960-d48a4d9397ed"
    },
    {
      "parameters": {
        "authentication": "headerAuth",
        "url": "=https://api.piapi.ai/api/v1/task/{{ $json.data.task_id }}",
        "options": {}
      },
      "id": "f4b4fca9-54f2-4696-8e5d-604185ef5a48",
      "name": "Get Music URL",
      "type": "n8n-nodes-base.httpRequest",
      "position": [
        540,
        980
      ],
      "typeVersion": 1
    },
    {
      "parameters": {
        "resource": "file",
        "fileId": "={{ $json.message.photo[3].file_id }}"
      },
      "type": "n8n-nodes-base.telegram",
      "typeVersion": 1.2,
      "position": [
        260,
        760
      ],
      "id": "f6820e29-2cce-4bb6-add1-463a966fd524",
      "name": "Telegram3",
      "webhookId": "627ed173-267e-4515-bb7b-7fd6dc8b69d6"
    },
    {
      "parameters": {
        "chatId": "={{ $('Telegram Trigger').item.json.message.chat.id }}",
        "text": "=Here is the final version of your video post:\n\n------------------------\n\n{{ $('Google Sheets2').item.json['Caption Text'] }}\n\n------------------------\n\n{{ $json['Video URL'] }}",
        "additionalFields": {}
      },
      "type": "n8n-nodes-base.telegram",
      "typeVersion": 1.2,
      "position": [
        1240,
        980
      ],
      "id": "30ff48ca-37d0-4fc9-a525-2629dbc915f5",
      "name": "Telegram4",
      "webhookId": "710fff55-701f-4051-9917-0d3806812706"
    },
    {
      "parameters": {
        "rules": {
          "values": [
            {
              "conditions": {
                "options": {
                  "caseSensitive": true,
                  "leftValue": "",
                  "typeValidation": "strict",
                  "version": 2
                },
                "conditions": [
                  {
                    "id": "18317865-ce3e-42bc-93ef-c6508480aeb3",
                    "leftValue": "={{ $json.message.photo[3].file_id }}",
                    "rightValue": "",
                    "operator": {
                      "type": "string",
                      "operation": "notExists",
                      "singleValue": true
                    }
                  }
                ],
                "combinator": "and"
              },
              "renameOutput": true,
              "outputKey": "text"
            },
            {
              "conditions": {
                "options": {
                  "caseSensitive": true,
                  "leftValue": "",
                  "typeValidation": "strict",
                  "version": 2
                },
                "conditions": [
                  {
                    "leftValue": "={{ $json.message.photo[3].file_id }}",
                    "rightValue": "",
                    "operator": {
                      "type": "string",
                      "operation": "exists",
                      "singleValue": true
                    },
                    "id": "80201900-3550-403f-a612-91d2fb0bcfe1"
                  }
                ],
                "combinator": "and"
              },
              "renameOutput": true,
              "outputKey": "image"
            }
          ]
        },
        "options": {}
      },
      "type": "n8n-nodes-base.switch",
      "typeVersion": 3.2,
      "position": [
        40,
        840
      ],
      "id": "38b4a0c3-e6d0-4af2-8d98-ae99d7c10c18",
      "name": "Switch1"
    },
    {
      "parameters": {
        "documentId": {
          "__rl": true,
          "value": "1DUDd8BPzxj7lLUxcAjWev-h9jui1DgZr-__Vc-0ZZ78",
          "mode": "list",
          "cachedResultName": " Building - Social Media Video AI Agent - FabiMarkl.com",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1DUDd8BPzxj7lLUxcAjWev-h9jui1DgZr-__Vc-0ZZ78/edit?usp=drivesdk"
        },
        "sheetName": {
          "__rl": true,
          "value": 740956331,
          "mode": "list",
          "cachedResultName": "Generated Post",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1DUDd8BPzxj7lLUxcAjWev-h9jui1DgZr-__Vc-0ZZ78/edit#gid=740956331"
        },
        "filtersUI": {
          "values": [
            {
              "lookupColumn": "Video ID",
              "lookupValue": "={{ $json.videoID }}"
            }
          ]
        },
        "options": {
          "returnFirstMatch": true
        }
      },
      "type": "n8n-nodes-base.googleSheets",
      "typeVersion": 4.5,
      "position": [
        780,
        760
      ],
      "id": "2d574cf2-e8a5-40bb-ad9d-21ec937b95a3",
      "name": "Google Sheets2"
    },
    {
      "parameters": {
        "jsCode": "const input = $('Telegram Trigger').first().json.message.caption || '';\n\n// Remove optional \"generate video\" prefix\nconst cleaned = input.replace(/^generate video[:]?/i, '').trim();\n\n// Split by comma\nconst parts = cleaned.split(',').map(p => p.trim());\n\n// Assign values safely\nconst videoID = parts[0] || \"\";\nconst videoPrompt = parts[1] || \"\";\nconst musicPrompt = parts[2] || \"\";\n\nreturn [\n  {\n    json: {\n      videoID,\n      videoPrompt,\n      musicPrompt\n    }\n  }\n];\n"
      },
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        620,
        760
      ],
      "id": "adfe4509-e900-477c-bf8a-e93b9ac77567",
      "name": "Split"
    },
    {
      "parameters": {
        "operation": "sendVideo",
        "chatId": "={{ $json.result.chat.id }}",
        "file": "={{ $('Google Sheets1').item.json['Video URL'] }}",
        "additionalFields": {}
      },
      "type": "n8n-nodes-base.telegram",
      "typeVersion": 1.2,
      "position": [
        1360,
        980
      ],
      "id": "2a63a798-b10e-47b9-b688-fa9570bd2755",
      "name": "Telegram5",
      "webhookId": "5aeaa734-c99f-4f66-a531-08ebfaf489d7"
    },
    {
      "parameters": {
        "content": "## Generate Title + Caption",
        "height": 680,
        "width": 1400,
        "color": 2
      },
      "type": "n8n-nodes-base.stickyNote",
      "typeVersion": 1,
      "position": [
        0,
        0
      ],
      "id": "439d4545-c3eb-4d86-8073-1b394afe6d38",
      "name": "Sticky Note"
    },
    {
      "parameters": {
        "content": "## Generate Video",
        "height": 400,
        "width": 1580,
        "color": 5
      },
      "type": "n8n-nodes-base.stickyNote",
      "typeVersion": 1,
      "position": [
        -20,
        740
      ],
      "id": "b135b1b1-f5fa-4dee-a7d0-e91a12419864",
      "name": "Sticky Note1"
    },
    {
      "parameters": {
        "content": "## Publish Video",
        "height": 220,
        "width": 1080,
        "color": 4
      },
      "type": "n8n-nodes-base.stickyNote",
      "typeVersion": 1,
      "position": [
        -20,
        1180
      ],
      "id": "5cecc0a5-0413-441f-9f6a-2c76df7a43bc",
      "name": "Sticky Note3"
    },
    {
      "parameters": {
        "rules": {
          "values": [
            {
              "conditions": {
                "options": {
                  "caseSensitive": false,
                  "leftValue": "",
                  "typeValidation": "strict",
                  "version": 2
                },
                "conditions": [
                  {
                    "id": "3065e32f-15af-436c-90e5-e5ea00325ee6",
                    "leftValue": "={{ $json.message.text }}",
                    "rightValue": "publish post",
                    "operator": {
                      "type": "string",
                      "operation": "notStartsWith"
                    }
                  }
                ],
                "combinator": "and"
              },
              "renameOutput": true,
              "outputKey": "text"
            },
            {
              "conditions": {
                "options": {
                  "caseSensitive": false,
                  "leftValue": "",
                  "typeValidation": "strict",
                  "version": 2
                },
                "conditions": [
                  {
                    "leftValue": "={{ $json.message.text }}",
                    "rightValue": "publish",
                    "operator": {
                      "type": "string",
                      "operation": "startsWith"
                    },
                    "id": "f9f83156-7e7b-481a-a906-28b9814085ec"
                  }
                ],
                "combinator": "and"
              },
              "renameOutput": true,
              "outputKey": "publish"
            }
          ]
        },
        "options": {
          "ignoreCase": true
        }
      },
      "type": "n8n-nodes-base.switch",
      "typeVersion": 3.2,
      "position": [
        -220,
        860
      ],
      "id": "dd257253-e057-489d-90ed-bfbbbd8e9678",
      "name": "Switch2"
    },
    {
      "parameters": {
        "assignments": {
          "assignments": [
            {
              "id": "c5260678-b61c-496e-9b6e-3091d78c6668",
              "name": "VideoID",
              "value": "={{$('Telegram Trigger').item.json.message.text.split('publish ')[1]}}",
              "type": "string"
            }
          ]
        },
        "options": {}
      },
      "type": "n8n-nodes-base.set",
      "typeVersion": 3.4,
      "position": [
        0,
        1240
      ],
      "id": "08d2ff1a-cc93-46df-84d5-bbbe4f0da055",
      "name": "VideoID1"
    },
    {
      "parameters": {
        "documentId": {
          "__rl": true,
          "value": "1DUDd8BPzxj7lLUxcAjWev-h9jui1DgZr-__Vc-0ZZ78",
          "mode": "list",
          "cachedResultName": " Building - Social Media Video AI Agent - FabiMarkl.com",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1DUDd8BPzxj7lLUxcAjWev-h9jui1DgZr-__Vc-0ZZ78/edit?usp=drivesdk"
        },
        "sheetName": {
          "__rl": true,
          "value": 740956331,
          "mode": "list",
          "cachedResultName": "Generated Post",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1DUDd8BPzxj7lLUxcAjWev-h9jui1DgZr-__Vc-0ZZ78/edit#gid=740956331"
        },
        "filtersUI": {
          "values": [
            {
              "lookupColumn": "Video ID",
              "lookupValue": "={{ $json.VideoID }}"
            }
          ]
        },
        "options": {
          "returnFirstMatch": true
        }
      },
      "type": "n8n-nodes-base.googleSheets",
      "typeVersion": 4.5,
      "position": [
        140,
        1240
      ],
      "id": "6bcc7eb4-a50d-4319-adf8-4944a4b00b4d",
      "name": "Google Sheets3"
    },
    {
      "parameters": {
        "method": "POST",
        "url": "INSERT_MAKE_WEBHOOK",
        "sendHeaders": true,
        "headerParameters": {
          "parameters": [
            {
              "name": "Content-Type",
              "value": "application/json"
            }
          ]
        },
        "sendBody": true,
        "bodyParameters": {
          "parameters": [
            {
              "name": "Caption Text",
              "value": "={{ $json['Caption Text'] }}"
            },
            {
              "name": "Video URL",
              "value": "={{ $json['Video URL'] }}"
            },
            {
              "name": "Row Number",
              "value": "={{ $json.row_number }}"
            },
            {
              "name": "Video ID",
              "value": "={{ $json['Video ID'] }}"
            },
            {
              "name": "Chat ID",
              "value": "={{ $('Telegram Trigger').item.json.message.chat.id }}"
            }
          ]
        },
        "options": {}
      },
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 4.2,
      "position": [
        320,
        1240
      ],
      "id": "760a09dd-e8ee-48e7-96a1-d293c2de1d1e",
      "name": "HTTP Request2"
    },
    {
      "parameters": {
        "httpMethod": "POST",
        "path": "c48ee4bb-968b-4387-bb7d-bde08f4e68e4",
        "options": {}
      },
      "type": "n8n-nodes-base.webhook",
      "typeVersion": 2,
      "position": [
        700,
        1240
      ],
      "id": "e778ea2c-3cc1-4bc8-a151-da34cc929bf9",
      "name": "Webhook",
      "webhookId": "c48ee4bb-968b-4387-bb7d-bde08f4e68e4"
    },
    {
      "parameters": {
        "chatId": "={{ $json.body.ChatID }}",
        "text": "=The video \"{{ $json.body.postID }}\" was successfully published to {{ $json.body.platform }} at {{ $json.body.publishTime }}.",
        "additionalFields": {}
      },
      "type": "n8n-nodes-base.telegram",
      "typeVersion": 1.2,
      "position": [
        860,
        1240
      ],
      "id": "0bcd3716-da3d-4991-ab45-d727cd2226df",
      "name": "Telegram8",
      "webhookId": "45c0ac66-d622-4afb-a863-d8d8fe3633a6"
    },
    {
      "parameters": {
        "operation": "update",
        "documentId": {
          "__rl": true,
          "value": "1DUDd8BPzxj7lLUxcAjWev-h9jui1DgZr-__Vc-0ZZ78",
          "mode": "list",
          "cachedResultName": " Building - Social Media Video AI Agent - FabiMarkl.com",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1DUDd8BPzxj7lLUxcAjWev-h9jui1DgZr-__Vc-0ZZ78/edit?usp=drivesdk"
        },
        "sheetName": {
          "__rl": true,
          "value": 740956331,
          "mode": "list",
          "cachedResultName": "Generated Post",
          "cachedResultUrl": "https://docs.google.com/spreadsheets/d/1DUDd8BPzxj7lLUxcAjWev-h9jui1DgZr-__Vc-0ZZ78/edit#gid=740956331"
        },
        "columns": {
          "mappingMode": "defineBelow",
          "value": {
            "TikTok": "yes"
          },
          "matchingColumns": [
            "Video ID"
          ],
          "schema": [
            {
              "id": "Video ID",
              "displayName": "Video ID",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "Topic",
              "displayName": "Topic",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Caption Text",
              "displayName": "Caption Text",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Title Text 1",
              "displayName": "Title Text 1",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Titel Text 2",
              "displayName": "Titel Text 2",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Video URL",
              "displayName": "Video URL",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Publish Date",
              "displayName": "Publish Date",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "Status",
              "displayName": "Status",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "TikTok",
              "displayName": "TikTok",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "row_number",
              "displayName": "row_number",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "readOnly": true,
              "removed": true
            }
          ],
          "attemptToConvertTypes": false,
          "convertFieldsToString": false
        },
        "options": {}
      },
      "type": "n8n-nodes-base.googleSheets",
      "typeVersion": 4.5,
      "position": [
        480,
        1240
      ],
      "id": "8bd7dc86-3998-41e1-bcf0-c160f655497c",
      "name": "Google Sheets4"
    },
    {
      "parameters": {
        "promptType": "define",
        "text": "={{ $('Input').item.json.text }}",
        "options": {
          "systemMessage": "=# ü§ñ AI Agent System Instructions ‚Äì Video Script Generator (n8n Workflow)\n\nYou are a helpful AI agent that helps users generate **scripts for social media videos**. The process consists of **two parts**:\n\n1. **Title Overlay Text** ‚Äì consists of two separate text elements: `title_text1` and `title_text2`\n2. **Caption Text** ‚Äì the text that will be posted along with the video\n\n---\n\n## üõ† Tool Access: Google Sheets\n\nYou have access to the **Google Sheets Tool**, which allows you to:\n\n- ‚úÖ Read existing rows\n- ‚úÖ Read available templates for `title_text1`, `title_text2`, and captions\n- ‚úÖ Write new rows\n- ‚úÖ Update existing rows\n- ‚úÖ Delete rows\n\nAll generated information (titles and captions) will be stored in a **Google Sheet**. Each row corresponds to one full post (including `title_text1`, `title_text2`, the topic, and the caption).\n\n---\n\n## üìã General Rules\n\n- Always return the **full generated text** (titles or captions) to the user **before saving** it to Google Sheets.\n- Never assume the user has access to the Google Sheet. **Always send the full text** directly in your response.\n- If the user asks to save a result, **confirm by returning the generated text again** in your reply after saving.\n- always how user the title text1 template and title text2 template at once, and never separately.\n\n- Never say \"saved to Google Sheets\" without including the full generated content.\n- Always maintain the structure and style of the selected template when adjusting for a new topic.\n\n---\n\n## üß© Step 0: Rerival of the video ID.\n\nwhen a user types \"yes\" look ingot the Google Sheet Tool \"Read Post Texts\" and find the video ID that has no other entry in it's row. That is the correct video ID.\n\n## üß© Step 1: Title Overlay Text Generation\n\nIf a response is a video idea containting 20 random characters that is the start of the process. This is the video ID you always refer to and save all generated content towards that row inside the google sheet. so always use this video ID to identfy the specific row you save all generated content towards.\n\nEach title consists of **two separate elements**:\n\n- `title_text1`\n- `title_text2`\n\n### Workflow:\n\n1. Wait for the user to initiate the process\n\n2. Ask:\n   - `Which template do you want to use for the full title text?`  \n     *(Retrieve and display available title text templates for text 1 and text 2 templates from the Google Sheet. you must always show the user both text 1 and text 2 templates, not jsut one text element as he needs to see both)*\n\n3. Ask:\n   - `What is the topic you'd like to generate the video for?`\n\n4. Generate both `title_text1` and `title_text2` by adjusting the selected templates to match the topic, while keeping their original structure.\n\n5. Display the result:\nHere‚Äôs your generated title:\n\n‚Ä¢ Title Text 1: [title_text1]\n‚Ä¢ Title Text 2: [title_text2]\n\n6. Ask:\n- `Do you want to make changes or save this title?`\n\n8. If the user says \"save it\":\n- Save `title_text1`, `title_text2`, and `topic` to the row in the Google Sheet that contains the video id.\n- Store both title texts\n\n---\n\n## üßæ Step 2: Caption Generation\n\n### Workflow:\n\n1. Use the **same topic** from Step 1 (do not ask for it again).\n\n2. Ask:\n- `Which caption template would you like to use?`  \n  *(Retrieve and display all available templates that you find in the the Google Sheet \"Read Templates\" Tool)*\n\n3. Generate the **caption** by modifying the selected template to fit the topic, maintaining the template‚Äôs structure and tone.\n\n4. Display the result:\nHere‚Äôs your caption: [caption_text]\n\n5. Ask:\n- `Do you want to make changes or save this caption?`\n\n6. If the user says \"save it\":\n- Add the caption to the same row in the Google Sheet where the titles were stored. use the video ID as identifier for ht ecorrect row.\nelements:\n  - `title_text1`\n  - `title_text2`\n  - `caption`\n\n---\n\n## üîÅ Recap of Commands\n\n- `Start` ‚Üí Starts the process with title generation\n\n- All generated content must always be visible in the conversation, not just saved silently.\n\n- NEVER try to store informaiton inside the window buffer memory. \n"
        }
      },
      "type": "@n8n/n8n-nodes-langchain.agent",
      "typeVersion": 1.7,
      "position": [
        920,
        200
      ],
      "id": "f10fa0f1-537b-48ea-90d1-66322e75a668",
      "name": "AI Agent | Video Maker",
      "onError": "continueRegularOutput"
    }
  ],
  "connections": {
    "Telegram Trigger": {
      "main": [
        [
          {
            "node": "Switch2",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Google Sheets - Read Templates": {
      "ai_tool": [
        [
          {
            "node": "AI Agent | Video Maker",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    },
    "Google Sheets - Read Post Texts": {
      "ai_tool": [
        [
          {
            "node": "AI Agent | Video Maker",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    },
    "Google Sheets - Update Post Texts": {
      "ai_tool": [
        [
          {
            "node": "AI Agent | Video Maker",
            "type": "ai_tool",
            "index": 0
          }
        ]
      ]
    },
    "Switch": {
      "main": [
        [
          {
            "node": "VideoID",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "VideoID",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "Input",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "VideoID": {
      "main": [
        [
          {
            "node": "Google Sheets",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Google Sheets": {
      "main": [
        [
          {
            "node": "Telegram1",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Window Buffer Memory": {
      "ai_memory": [
        [
          {
            "node": "AI Agent | Video Maker",
            "type": "ai_memory",
            "index": 0
          }
        ]
      ]
    },
    "Anthropic Chat Model": {
      "ai_languageModel": [
        [
          {
            "node": "AI Agent | Video Maker",
            "type": "ai_languageModel",
            "index": 0
          }
        ]
      ]
    },
    "ChatID": {
      "main": [
        [
          {
            "node": "AI Agent | Video Maker",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Input": {
      "main": [
        [
          {
            "node": "ChatID",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Google Sheets1": {
      "main": [
        [
          {
            "node": "Telegram4",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Upload Image": {
      "main": [
        [
          {
            "node": "Split",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Generate Video": {
      "main": [
        [
          {
            "node": "Wait For Video",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Wait For Video": {
      "main": [
        [
          {
            "node": "Get Video URL",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Get Video URL": {
      "main": [
        [
          {
            "node": "Generate Music",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Add Captions": {
      "main": [
        [
          {
            "node": "Wait4",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Wait4": {
      "main": [
        [
          {
            "node": "Video URL1",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Video URL1": {
      "main": [
        [
          {
            "node": "Google Sheets1",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Generate Music": {
      "main": [
        [
          {
            "node": "Wait For Music",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Wait For Music": {
      "main": [
        [
          {
            "node": "Get Music URL",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Get Music URL": {
      "main": [
        [
          {
            "node": "Add Captions",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Telegram3": {
      "main": [
        [
          {
            "node": "Upload Image",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Switch1": {
      "main": [
        [
          {
            "node": "Switch",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "Telegram3",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Google Sheets2": {
      "main": [
        [
          {
            "node": "Generate Video",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Split": {
      "main": [
        [
          {
            "node": "Google Sheets2",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Telegram4": {
      "main": [
        [
          {
            "node": "Telegram5",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Switch2": {
      "main": [
        [
          {
            "node": "Switch1",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "VideoID1",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "VideoID1": {
      "main": [
        [
          {
            "node": "Google Sheets3",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Google Sheets3": {
      "main": [
        [
          {
            "node": "HTTP Request2",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Webhook": {
      "main": [
        [
          {
            "node": "Telegram8",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "HTTP Request2": {
      "main": [
        [
          {
            "node": "Google Sheets4",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "AI Agent | Video Maker": {
      "main": [
        [
          {
            "node": "Telegram",
            "type": "main",
            "index": 0
          }
        ]
      ]
    }
  },
  "settings": {
    "executionOrder": "v1"
  },
  "staticData": null,
  "meta": null,
  "pinData": {},
  "versionId": "26f4d2bc-8db9-40c0-9480-d872e0771cdf",
  "triggerCount": 0,
  "tags": []
}